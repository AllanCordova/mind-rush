<section class="bg p-4 rounded-4 my-4 container">
  <div class="d-flex flex-wrap gap-4 justify-content-between">
    <!-- ðŸ“ FormulÃ¡rio de criaÃ§Ã£o de pergunta -->
    <div class="flex-fill" style="min-width: 300px; max-width: 48%">
      <h2 class="pixel-xl title text-center mb-4">Criar QuestÃ£o</h2>

      @if (quiz) {
      <p class="text-center title pixel-lg text-light">
        ðŸ“˜ Quiz: {{ quiz.title }}
      </p>

      <div class="mb-3">
        <label for="question" class="pixel-md mb-2">Pergunta</label>
        <textarea
          placeholder="Qual a capital do Brasil"
          class="form-control form-control-lg border-secondary"
          [(ngModel)]="questionText"
          id="question"
        ></textarea>
      </div>

      <div class="mb-3">
        <label for="answer" class="pixel-md mb-2">Alternativa</label>
        <div class="d-flex gap-2">
          <input
            id="answer"
            type="text"
            class="form-control border-secondary"
            [(ngModel)]="answerText"
            placeholder="Ex: BrasÃ­lia"
          />
          <button class="btn btn-primary fs-5 btn-sm" (click)="addAnswer()">
            <i class="bi bi-plus-square mt-0"></i>
          </button>
        </div>
      </div>

      @if (tempAnswers.length > 0) {
      <div class="mb-4">
        <label class="pixel-sm mb-2 text-light">Alternativas</label>
        <ul class="list-group">
          @for (ans of tempAnswers; track $index) {
          <li
            class="list-group-item bg-transparent text-light d-flex justify-content-between align-items-center font-comin"
          >
            {{ ans }}
            <button
              class="btn btn-sm"
              [ngClass]="{
                'btn-success': correctAnswerIndex === $index,
                'btn-outline-secondary': correctAnswerIndex !== $index
              }"
              (click)="markCorrect($index)"
            >
              <i class="bi bi-plus-circle"></i>
            </button>
          </li>
          }
        </ul>
      </div>
      }

      <div class="d-flex justify-content-center">
        <button
          class="btn btn-primary-pixel btn-pixel pixel-font"
          (click)="saveQuestion()"
        >
          âœ… Salvar QuestÃ£o
        </button>
      </div>
      } @else {
      <p class="text-warning text-center">Quiz nÃ£o encontrado. ðŸ˜¢</p>
      }
    </div>

    <!-- ðŸ“š Lista de questÃµes adicionadas -->
    <div class="flex-fill" style="min-width: 300px; max-width: 48%">
      <h3 class="pixel-xl title text-center mb-4">QuestÃµes Criadas</h3>

      @if (quiz.questions.length > 0) {
      <ul class="list-group list-group-flush">
        @for (q of quiz.questions; track q.id) {
        <li class="list-group-item bg-transparent text-light font-comin">
          <div class="d-flex justify-content-between align-items-center">
            <span class="text pixel-lg">Pergunta: {{ q.text }}</span>
          </div>
          <span class="text pixel-md">Alternativas: {{ q.answers }}</span>
        </li>
        }
      </ul>
      } @else {
      <p class="text-light text-center">Nenhuma questÃ£o ainda...</p>
      }
    </div>
  </div>
</section>
